{"ast":null,"code":"import _toConsumableArray from\"/Users/mspolermo/git/sultan-web-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/mspolermo/git/sultan-web-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import GoodsList from'../components/GoodsList';import goods from'../goods/goods.json';import'../App.css';import MySelect from\"../components/UI/select/MySelect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Catalog=function Catalog(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedSort=_useState2[0],setSelectedSort=_useState2[1];var _useState3=useState(goods),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var sortGoods=function sortGoods(sort){setSelectedSort(sort);var element=_toConsumableArray(products)[0];var sortDirection=sort.split('-')[1];sort=sort.split('-')[0];if(typeof element[sort]=='string'&&sortDirection=='down'){setProducts(_toConsumableArray(products).sort(function(a,b){return a[sort].toString().localeCompare(b[sort].toString());}).reverse());}else if(typeof element[sort]=='string'){setProducts(_toConsumableArray(products).sort(function(a,b){return a[sort].toString().localeCompare(b[sort].toString());}));}else if(typeof element[sort]=='number'&&sortDirection=='down'){setProducts(_toConsumableArray(products).sort(function(a,b){return+b[sort]-+a[sort];}));}else{setProducts(_toConsumableArray(products).sort(function(a,b){return+a[sort]-+b[sort];}));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:\"HEADER OF CATALOG PAGE\"}),/*#__PURE__*/_jsx(MySelect,{value:selectedSort,onChange:sortGoods,defaultValue:\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\",options:[{value:'title-up',name:'По названию: Возрастание'},{value:'title-down',name:'По названию: Убывание'},{value:'price-up',name:'По цене: Возрастание'},{value:'price-down',name:'По цене: Убывание'}]}),/*#__PURE__*/_jsx(GoodsList,{goods:products}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:\"FOOTER\"})]});};export default Catalog;","map":{"version":3,"names":["React","useState","GoodsList","goods","MySelect","jsx","_jsx","jsxs","_jsxs","Catalog","_useState","_useState2","_slicedToArray","selectedSort","setSelectedSort","_useState3","_useState4","products","setProducts","sortGoods","sort","element","_toConsumableArray","sortDirection","split","a","b","toString","localeCompare","reverse","children","className","value","onChange","defaultValue","options","name"],"sources":["/Users/mspolermo/git/sultan-web-app/src/pages/Catalog.tsx"],"sourcesContent":["import React, {FC, useState} from \"react\";\nimport GoodsList from '../components/GoodsList';\nimport goods from '../goods/goods.json'\nimport '../App.css'\nimport MySelect from \"../components/UI/select/MySelect\";\nimport { IGoods } from \"../types/types\";\n\nconst Catalog: FC = () => {\n\n    const [selectedSort, setSelectedSort] = useState('')\n\n    const [products, setProducts] = useState(goods)\n\n    const sortGoods = (sort:string) => {\n        setSelectedSort(sort);\n\n        let element = [...products][0];\n        let sortDirection = sort.split('-')[1];\n        sort = sort.split('-')[0];\n\n        if ((typeof element[sort as keyof typeof element] == 'string') && (sortDirection == 'down')) {\n            setProducts(([...products].sort((a, b) => a[sort as keyof typeof a].toString().localeCompare(b[sort as keyof typeof b].toString()))).reverse())\n        }else if (typeof element[sort as keyof typeof element] == 'string') {\n            setProducts(([...products].sort((a, b) => a[sort as keyof typeof a].toString().localeCompare(b[sort as keyof typeof b].toString()))))\n        }else if ((typeof element[sort as keyof typeof element] == 'number') && (sortDirection == 'down')){\n        setProducts([...products].sort((a, b) =>  +b[sort as keyof typeof b] - +a[sort as keyof typeof a]))    \n        }else {\n            setProducts([...products].sort((a, b) => +a[sort as keyof typeof a] - +b[sort as keyof typeof b]))\n        }\n    }\n    \n\n    return (\n        <div>\n            <div className=\"header\">HEADER OF CATALOG PAGE</div>\n            <MySelect\n                value={selectedSort}\n                onChange={sortGoods}\n                defaultValue='Сортировка'\n                options={[\n                    {value: 'title-up', name: 'По названию: Возрастание'},\n                    {value: 'title-down', name: 'По названию: Убывание'},\n                    {value: 'price-up', name: 'По цене: Возрастание'},\n                    {value: 'price-down', name: 'По цене: Убывание'}\n                ]}\n            />\n\n\n            <GoodsList goods={products} />\n            <div className=\"footer\">FOOTER</div>\n      </div>\n    );\n};\n\nexport default Catalog;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}